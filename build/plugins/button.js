/*
 * button - jQuery plugin
 *
 * Author Koji Kimura @ STARRYWORKS inc.
 * http://www.starryworks.co.jp/
 *
 * Licensed under the MIT License
 *
 */

(function(e){var x=navigator.userAgent.indexOf("MSIE")!=-1,p={over:function(){e(this).button("over")},out:function(){e(this).button("out")},down:function(){e(this).button("down")},up:function(){e(this).button("up")}},l;e.fn.button=function(){function q(a){var c=a.data("button_options"),d=a.hasClass("selected");r(a);s(a);var b;if(d&&c.enableMouseEventsSelected||!d&&c.enableMouseEvents)for(b in h)c[h[b]]&&t(a,h[b])&&a.bind(u[h[b]],p[h[b]])}function s(a){var c=a.data("button_options"),d=j(a);if(!(d.data("button_default")&&
d.data("button_selected"))){var b=d.attr("src");b=b.replace(l,".$2").replace(l,".$2");var g=b.replace(/\.([a-zA-Z0-9]+)$/,c.postfix.selected+".$1"),f=b.match(/\.png$/)!="";d.data("isPNG",f);d.data("button_default",b);d.data("button_selected",g);f=a.hasClass("selected");d.attr("src",f?g:b);if(!c||c.selected){e("<img />").attr("src",b);e("<img />").attr("src",g)}if(c.fade&&a.is("a")&&!a.find("img.buttonFade").length){d.css("position");a=e('<img width="'+d.width()+'" height="'+d.height()+'" class="buttonFade" />');
d.before(a);a.css({position:"absolute",display:"none"});d.data("$button_fade",a)}}}function t(a,c){var d=a.hasClass("selected"),b=a.data("button_options");if(d&&!b.enableMouseEventsSelected||!d&&!b.enableMouseEvents)return false;s(a);b=a.data("button_options");if(!b||!b[c]||!b.postfix||!b.postfix.hasOwnProperty(c))return false;var g="button_"+c,f=j(a);if(f.data(g))return true;d=a.hasClass("selected");var m=f.data("button_default").replace(/\.([a-zA-Z0-9]+)$/,b.postfix[c]+".$1"),n=f.data("button_selected").replace(/\.([a-zA-Z0-9]+)$/,
b.postfix[c]+".$1");f.data(g,d?n:m);m!=f.data("button_default")&&e("<img />").attr("src",m);b.selected&&b.enableMouseEventsSelected&&n!=f.data("button_selected")&&e("<img />").attr("src",n);return true}function j(a){if(a.data("$button_img"))return a.data("$button_img");var c=a.children("img");if(!c.length&&a.attr("src"))c=a;a.data("$button_img",c);return c}function r(a){var c=j(a),d;for(d in h){c.data("button_"+h[d],"");a.unbind(u[h[d]],p[h[d]])}c.data("button_selected","");c.data("button_default",
"");c.data("button_status","");a.find("img.buttonFade").remove()}var u={over:"mouseenter",out:"mouseleave",down:"mousedown",up:"mouseup"},h=["over","out","down","up"];if(arguments.length>0&&(typeof arguments[0]=="string"||arguments[0]instanceof String)){var i=arguments[0];if(i=="selected")if(arguments.length>1){var v=arguments[1];return e(this).each(function(){var a=e(this),c=v=="toggle"?!e(this).hasClass("selected"):v,d=a.hasClass("selected");if(d!=c){(d=c)?a.addClass("selected"):a.removeClass("selected");
q(a)}})}else return e(this).hasClass("selected");else return i=="clear"?e(this).each(function(){r(e(this))}):e(this).each(function(){var a=e(this),c=a.data("button_status");if(c!=i){c&&a.removeClass(c);a.data("button_status",i);if(t(a,i)){var d="button_"+i,b=j(a),g=a.data("button_options"),f=b.data("isPNG");if(g.fade&&a.is("a")&&a.find("img.buttonFade").length&&(!x||!f))if(g.postfix[i]){b.attr("src",b.data("button_"+c));a=b.data("$button_fade");c=b.offset();a.css({top:c.top+"px",left:c.left+"px"});
a.attr("src",b.data(d));a.stop(true,true).fadeIn(g.fadeTime)}else{a=b.data("$button_fade");b.attr("src",b.data(d));a.stop(true,true).fadeOut(g.fadeTime)}else b.attr("src",b.data(d))}}})}i_options=arguments.length&&typeof arguments[0]!="String">0?arguments[0]:{};var k=e.extend(true,{over:true,out:true,down:false,up:false,selected:false,enableMouseEvents:true,enableMouseEventsSelected:true,postfix:{over:"-over",out:"",down:"-down",up:"",selected:"-selected"},fade:false,fadeTime:300},i_options),w=[],
o;for(o in k.postfix)k.postfix[o]&&w.push(k.postfix[o]);l=RegExp("("+w.join("|")+").([a-zA-Z0-9]+)$","g");e(this).data("button_options",k);return e(this).each(function(){q(e(this))})}})(jQuery);

/* SimpleLib Plugin */
SimpleLib&&SimpleLib.extend("button",{settings:{buttonSelector:"a.button, input.button",rollOverSelector:"a.rollover, a.rollOver, input.rollover, input.rollOver",fade:false,fadeTime:300},init:function(){var a=SimpleLib.button.settings.fade,b=SimpleLib.button.settings.fadeTime;$(function(){$(SimpleLib.button.settings.buttonSelector).button({over:true,down:true,up:true,fade:a,fadeTime:b});$(SimpleLib.button.settings.rollOverSelector).button({over:true,down:false,up:false,fade:a,fadeTime:b})})}});